# 🍁 메이플랜드 확률 계산기

> **메이플랜드 주문서, 가챠 아이템의 독립시행 확률과 예상 비용을 정확히 계산해보세요!**

메이플랜드(MapleIsland)는 빅뱅 이전의 클래식 메이플스토리를 재현한 유저 커스텀 서버입니다. 이 프로젝트는 메이플랜드의 주문서 시스템과 가챠 확률에 최적화된 확률 계산기입니다.

## ✨ 주요 기능

### 🎯 이중 계산 모드
- **목표 달성 모드**: N번 성공하는데 필요한 비용과 시행 횟수 계산
- **확률 분석 모드**: 정해진 시행 횟수에서 최소 N번 성공할 확률 계산
- **모드별 최적화**: 각 목적에 맞는 UI와 결과 표시

### 🎯 확률 계산
- **이항분포 기반** 정확한 확률 계산
- **메이플랜드 주문서** 프리셋 (10%, 60%, 100%)
- **가챠/커스텀** 확률 지원 (1%, 5%, 20% 등)
- **사용자 정의** 확률 입력 (0.01% - 100%)

### 💰 목표 달성 비용 분석
- **목표 성공 횟수** 설정 - 실제 필요한 성공 횟수 입력
- **확률별 달성 비용**:
  - 🍀 **운 좋으면** (5% 확률로 목표 달성)
  - 🎯 **절반 확률** (50% 확률로 목표 달성) 
  - ⚠️ **거의 확실** (99% 확률로 목표 달성)
- **필요 시행 횟수** 표시 - 각 확률별 예상 시행 횟수
- **실시간 메소 계산** - 억/만 단위 자동 변환

### 📊 고급 확률 분석
- **N회 이상 성공** - 사용자 정의 최소 성공 횟수 설정
- **개별 확률** - 정확히 N번 성공할 확률
- **누적 확률** - N번 이하 성공할 확률  
- **목표 기반 계산** - 실제 목표에 맞춘 현실적 비용 산출

## 🛠️ 기술 스택

### Frontend
- **React 19** - 최신 React 기능 활용
- **TypeScript** - 타입 안전성 보장
- **Vite** - 빠른 개발 환경
- **TailwindCSS v4** - 최신 CSS 프레임워크

### UI/UX
- **Radix UI** - 접근성 우수한 컴포넌트
- **Lucide React** - 아름다운 아이콘
- **shadcn/ui** - 일관된 디자인 시스템
- **반응형 디자인** - 모바일/태블릿/데스크톱 대응

### 상태 관리
- **React Context** - 전역 상태 관리
- **useReducer** - 복잡한 상태 로직 처리
- **Custom Hooks** - 재사용 가능한 로직

## 🚀 시작하기

### 필수 요구사항
- Node.js 18.0.0 이상
- npm 또는 yarn

### 설치 및 실행

```bash
# 저장소 클론
git clone https://github.com/your-username/maple-where-i-go.git
cd maple-where-i-go

# 의존성 설치
npm install

# 개발 서버 실행
npm run dev

# 빌드
npm run build

# 프리뷰
npm run preview
```

### 개발 환경 설정

```bash
# TailwindCSS PostCSS 플러그인 설치 (필요시)
npm install @tailwindcss/postcss

# 타입 체크
npm run type-check

# 린팅
npm run lint
```

## 💡 빠른 사용 예시

### 🗡️ 목표 달성 모드: 무기 작업
```
❓ 질문: "무기에 10% 주문서로 3번 성공하려면 얼마나 들까?"
⚙️ 설정:
- 계산 모드: 🎯 목표 달성
- 성공 확률: 10%
- 목표 성공 횟수: 3번
- 최대 시행 횟수: 7번 (무기 작업 제한)
- 주문서 가격: 1억 메소

📊 결과:
- 평균 예상: 30억 (이론적 기댓값)
- 50% 확률: 28억 (절반은 이 안에 달성)
- 99% 확률: 70억 (거의 확실하게 달성)
```

### 📊 확률 분석 모드: 작업 성공률
```
❓ 질문: "무기 7번 작업하면 최소 1번은 성공할까?"
⚙️ 설정:
- 계산 모드: 📊 확률 분석
- 성공 확률: 10%
- 최소 성공 횟수: 1번
- 최대 시행 횟수: 7번 (무기 작업 제한)

📊 결과:
- 1번 이상 성공 확률: 약 52%
- 예상 성공 횟수: 0.7회
- 개별 성공 확률: 10%
```

### 🎰 목표 달성 모드: 가챠 획득
```
❓ 질문: "1% 레어 아이템 1개 얻으려면 얼마나 들까?"
⚙️ 설정:
- 계산 모드: 🎯 목표 달성
- 성공 확률: 1%
- 목표 성공 횟수: 1개
- 최대 시행 횟수: 300회 (가챠 천장)
- 가챠 1회: 10만 메소

📊 결과:
- 평균 예상: 1000만 (이론적 기댓값)
- 50% 확률: 700만 (절반은 이 안에)
- 99% 확률: 4600만 (거의 확실)
- 천장: 3000만 (최대 비용)
```

### 📊 확률 분석 모드: 가챠 성공률  
```
❓ 질문: "100번 돌리면 1개는 나올까?"
⚙️ 설정:
- 계산 모드: 📊 확률 분석
- 성공 확률: 1%
- 최소 성공 횟수: 1개
- 최대 시행 횟수: 100회

📊 결과:
- 1개 이상 성공 확률: 약 63%
- 예상 성공 횟수: 1.0개
- 개별 성공 확률: 1%
```

## 💡 사용법

### 1. 모드 선택
- **🎯 목표 달성 모드**: 비용 계산이 목적
- **📊 확률 분석 모드**: 성공 확률 분석이 목적

### 2. 목표 달성 모드 설정
1. **성공 확률**: 입력 또는 프리셋 선택
2. **아이템 가격**: 메소 단위로 입력
3. **목표 성공 횟수**: 실제로 몇 번 성공하고 싶은지
4. **최대 시행 횟수**: 게임 내 제한사항 (작업 제한, 가챠 천장)
5. **결과**: 확률별 예상 비용과 필요 시행 횟수

### 3. 확률 분석 모드 설정
1. **성공 확률**: 입력 또는 프리셋 선택
2. **최소 성공 횟수**: 최소 몇 번 이상 성공할지
3. **최대 시행 횟수**: 실제로 몇 번 시행할 수 있는지
4. **결과**: N회 이상 성공할 확률과 기댓값

### 2. 메이플랜드 작업 시나리오
```
📝 예시: 무기에 10% 주문서 3번 성공 목표
⚙️ 설정:
- 성공 확률: 10%
- 목표 성공 횟수: 3번
- 최대 시행 횟수: 7번 (무기 작업 제한)
- 주문서 가격: 1억 메소

📊 결과 해석:
- 평균 예상 비용: 목표 달성 기댓값
- 50% 확률: 절반의 사람들이 이 비용 이내로 달성
- 99% 확률: 거의 확실하게 달성하는 비용
```

### 3. 가챠 천장 시나리오  
```
🎰 예시: 1% 레어 아이템 1개 목표, 천장 300회
⚙️ 설정:
- 성공 확률: 1%
- 목표 성공 횟수: 1개
- 최대 시행 횟수: 300회 (가챠 천장)
- 가챠 1회: 10만 메소

📊 결과 해석:
- 천장까지 가면 3000만 메소 확정
- 50% 확률로 700만 메소 이내 달성
```

### 4. 언제 어떤 모드를 사용할까?

#### 🎯 목표 달성 모드를 선택하세요:
- "N번 성공하려면 **얼마나 들까**?" 
- "목표 달성까지 **몇 번 해야 할까**?"
- **비용 계획**이 주된 관심사
- 예: 주문서 작업, 가챠 아이템 수집

#### 📊 확률 분석 모드를 선택하세요:
- "N번 시행하면 **몇 번이나 성공할까**?"
- "**성공할 가능성**이 얼마나 될까?"
- **확률과 기댓값**이 주된 관심사  
- 예: 제한된 시행 횟수 내 성공 가능성 분석

## 💡 핵심 차이점

| 구분 | 목표 달성 모드 | 확률 분석 모드 |
|------|---------------|----------------|
| **목적** | 비용 계산 | 확률 계산 |
| **질문** | "얼마나 들까?" | "몇 번 성공할까?" |
| **입력** | 목표 성공 횟수 | 최소 성공 횟수 |
| **결과** | 확률별 비용 + 시행수 | 성공 확률 + 기댓값 |
| **활용** | 자금 계획 수립 | 성공 가능성 분석 |

## 📱 화면 구성

### 데스크톱
- **좌측 사이드바**: 자주 사용하는 확률, 계산 팁
- **상단 헤더**: 네비게이션 메뉴
- **메인 영역**: 입력 패널 + 결과 패널

### 모바일
- **햄버거 메뉴**: 사이드바 토글
- **반응형 그리드**: 화면 크기에 맞는 레이아웃
- **터치 최적화**: 모바일 터치 인터페이스

## 🧮 계산 공식

### 이항분포 (Binomial Distribution)
```
P(X = k) = C(n,k) × p^k × (1-p)^(n-k)
```
- n: 시행 횟수
- k: 성공 횟수  
- p: 성공 확률
- C(n,k): 조합 (nCk)

### 기댓값 (Expected Value) - 목표 기반
```
E[목표 달성 시행수] = 목표성공횟수 / p
E[목표 달성 비용] = (목표성공횟수 / p) × 아이템가격
```

### N회 이상 성공 확률
```
P(X ≥ N) = 1 - P(X ≤ N-1) = 1 - Σ(k=0 to N-1) P(X = k)
```

### 목표 달성 확률별 필요 시행 횟수
```
이진탐색을 통해 P(X ≥ 목표) = 지정확률이 되는 최소 시행 횟수 계산
- 5% 확률: 매우 운이 좋은 경우
- 50% 확률: 평균적인 경우  
- 99% 확률: 거의 확실한 경우
```

### 누적 확률 (Cumulative Probability)
```
P(X ≤ k) = Σ(i=0 to k) P(X = i)
```

## 📁 프로젝트 구조

```
src/
├── components/          # UI 컴포넌트
│   ├── ui/             # 기본 UI 컴포넌트 (shadcn/ui)
│   ├── Header.tsx      # 헤더 컴포넌트
│   ├── Sidebar.tsx     # 사이드바 컴포넌트
│   └── Navigation.tsx  # 네비게이션 컴포넌트
├── contexts/           # React Context
│   └── CalculatorContext.tsx
├── pages/              # 페이지 컴포넌트
│   ├── Calculator.tsx  # 메인 계산기
│   ├── History.tsx     # 히스토리 페이지
│   ├── HuntingGrounds.tsx # 사냥터 정보
│   └── About.tsx       # 정보 페이지
├── types/              # TypeScript 타입 정의
│   └── calculator.ts
├── styles/             # CSS 파일
│   └── globals.css
└── layouts/            # 레이아웃 컴포넌트
    └── Layout.tsx
```

## 🎨 디자인 시스템

### 색상 팔레트
- **Primary**: Blue-Purple 그라데이션
- **Success**: Green 계열
- **Warning**: Amber 계열  
- **Danger**: Red 계열
- **Background**: Slate 다크 테마

### 컴포넌트 규칙
- **카드 기반** 레이아웃
- **Glassmorphism** 스타일
- **부드러운 애니메이션**
- **일관된 간격** (Tailwind spacing)

## 🔮 향후 계획

### v1.1 - 고급 기능
- [ ] **사냥터 정보** 페이지 구현
- [ ] **몬스터 드롭률** 계산기
- [ ] **경험치 계산기** 추가

### v1.2 - 사용자 경험
- [ ] **다크/라이트 테마** 토글
- [ ] **계산 결과 공유** 기능
- [ ] **즐겨찾기** 설정 저장

### v1.3 - 고도화
- [ ] **데이터 시각화** (차트)
- [ ] **시뮬레이션** 기능
- [ ] **API 연동** (실시간 시장 가격)

## 🤝 기여하기

### 버그 리포트
이슈가 발견되면 GitHub Issues에 다음 정보와 함께 제보해주세요:
- 운영체제 및 브라우저 정보
- 재현 단계
- 예상 결과 vs 실제 결과
- 스크린샷 (필요시)

### 기능 제안
새로운 기능 아이디어가 있다면 Issues에 제안해주세요:
- 기능의 목적과 필요성
- 예상되는 사용자 경험
- 참고 자료 (있다면)

### 개발 참여
1. Fork 후 새 브랜치 생성
2. 변경사항 구현
3. 테스트 및 코드 품질 확인
4. Pull Request 제출

## 📄 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다. 자세한 내용은 [LICENSE](LICENSE) 파일을 참조하세요.

## 🙏 감사의 말

- **메이플랜드 커뮤니티** - 영감과 피드백
- **Radix UI 팀** - 훌륭한 접근성 컴포넌트
- **Tailwind 팀** - 생산성 높은 CSS 프레임워크
- **shadcn** - 아름다운 UI 컴포넌트 시스템

---